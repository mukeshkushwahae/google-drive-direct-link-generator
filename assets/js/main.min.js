const doc=document,getId="getElementById",shareUrl=doc[getId]("shareUrl"),directUrl=doc[getId]("directUrl"),generateBtn=doc[getId]("generateBtn"),copyBtn=doc[getId]("copyBtn"),clearBtn=doc[getId]("clearBtn"),directUrlHidden=doc[getId]("directUrlHidden"),shareUrlRegex=/^https:\/\/drive\.google\.com\/(file|folderview)\//;generateBtn.addEventListener("click",function(){return""===shareUrl.value?(window.alert("Oops, The sharing url is empty."),!1):shareUrlRegex.test(shareUrl.value)?void(generateBtn.innerHTML="Generating...",generateBtn.disabled=!0,setTimeout(()=>{directUrl.value=shareUrl.value.replace("/file/d/","/uc?export=download&id=").replace("/view?usp=sharing","").replace("/view?usp=share_link","").replace("/view?usp=drivesdk",""),generateBtn.innerHTML="Generate",generateBtn.disabled=!1,directUrlHidden.classList.remove("hidden")},1e3)):(window.alert("Oops, The sharing url you provided is invalid."),!1)}),copyBtn.addEventListener("click",function(){return""===shareUrl.value?(window.alert("Oops, The sharing url is empty."),!1):shareUrlRegex.test(shareUrl.value)?void(copyBtn.innerHTML="Copying...",copyBtn.disabled=!0,setTimeout(()=>{copyBtn.innerHTML="Copy",copyBtn.disabled=!1},1e3),directUrl.select(),document.execCommand("copy")):(window.alert("Oops, The sharing url you provided is invalid."),!1)}),clearBtn.addEventListener("click",function(){if(""===shareUrl.value)return window.alert("Oops, The sharing url is empty."),!1;clearBtn.innerHTML="Clearing...",clearBtn.disabled=!0,setTimeout(()=>{shareUrl.value="",directUrl.value="",clearBtn.innerHTML="Clear",clearBtn.disabled=!1,directUrlHidden.classList.add("hidden")},1e3)});